# **A/B-тест нового дизайна в freemium-мобильном приложении**

Проект по анализу эффективности нового дизайна экрана предложения покупки в мобильном приложении с freemium-моделью монетизации.

[Открыть проект](ab.ipynb)

---

**Цель теста**: оценить влияние обновленного экрана предложения покупки на пользовательскую монетизацию.

Контрольной группе (**control**) показывался текущий экран с предложением premium-функций.

Тестовой группе (**variant**) был показан альтернативный вариант: экран с ярко-выраженным социальным триггером.

**Основная гипотеза**: новый дизайн увеличит конверсию в первую покупку без снижения среднего чека.

---

## **Описание датасета**

Исходный датасет содержит 10000 строк с информацией о покупках пользователей.

Поля исходного датасета:
- **USER_ID** - уникальный идентификатор пользователя
- **VARIANT_NAME** - наименование выборки (*control* /*variant* )
- **REVENUE** - выручка с данной покупки пользователя

---

## **Ход работы**

### **Подготовка данных к анализу**

В ходе аудита данных выявлены записи о 1541 пользователе (39,3% датасета), присутствующем сразу в двух выборках, что является противоречием к проведению A/B-теста, так как нарушает принцип независимости наблюдений. Было принято решение очистить данных пользователей.

После очистки и агрегации датасет включает 4 783 уникальных пользователя, разделённых на две группы:
- **control** — базовая версия продукта (2 390 пользователей),
- **variant** — тестируемая версия (2 393 пользователя).

Для каждого пользователя агрегирована выручка с его покупок за весь период эксперимента.
Таким образом, финальный датасет удовлетворяет ключевым предпосылкам корректного A/B-тестирования:  
- один пользователь — одна группа,  
- независимость наблюдений,  
- валидная метрика на уровне пользователя.

### **Анализ распределения данных**

В ходе анализа данных определен характер распределения выручки пользователей:

![Гистограммы распределения](graphics/hists.png)

Распределение сильно скошено влево - более 98% значений равны нулю

Крайне низкая конверсия:
- 2.26% платящих в control-группе (54 пользователя),  
- 1.75% платящих в variant-группе (42 пользователя).

![Боксплоты распределения](graphics/boxplot2.png)

Среди платящих пользователей медианный чек также достаточно мал:
- \$3.12 в контрольной группе
- \$2.97 в тестовой группе

При этом распределение чеков сопровождается выбросами (максимум — $196.01, с графика выше скрыт в целях визуализации).

Таким образом, наблюдается **типичная freemium-структура**: данные соответствуют модели монетизации, распространённой в мобильных приложениях и цифровых сервисах, где подавляющее большинство пользователей не совершают покупок.

### **Статистический анализ**

Анализ был поделен на 2 части:
- Точный тест Фишера для конверсии
- U-критерий Манна-Уитни для среднего чека

В ходе анализа была получена следующая сводная таблица:

![Сводная таблица](graphics/pivot_table.png)

Таким образом, по итогам A/B-теста не выявлено статистически значимого влияния новой версии продукта ни на **склонность пользователей к покупке**, ни на **размер их трат**.

- **Конверсия в покупку** составила **2.26%** в контрольной группе и **1.75%** в тестовой. Различие не является статистически значимым (точный тест Фишера, p = 0.218).
- Среди платящих пользователей **медианный чек** оказался практически одинаковым: **\$3.12** (control) vs **\$2.97** (variant). Тест Манна-Уитни подтвердил отсутствие значимых различий в распределении выручки (p = 0.440).

---

## **Выводы по работе**

Обновленный экран предложения покупки не демонстрирует улучшения ключевых метрик монетизации. Наблюдаемые изменения могут быть объяснены случайной вариацией, особенно учитывая низкую базовую конверсию (\~2%), ограниченное число платящих пользователей (~50 на группу), и также выявленное на предварительном этапе аудита данных нарушение принципа уникальности участия пользователей.

**Рекомендации:**

Увеличить объем выборки, провести дополнительные итерации тестирования, а также обеспечить корректную рандомизацию на уровне пользователя.

## Технические детали

- **Инструменты:** Python (pandas, scipy, seaborn), Jupyter Notebook
- **Методы:** Точный тест Фишера, U-критерий Манна-Уитни
- **Уровень значимости:** α = 0.05
- [Ссылка на ноутбук с полным кодом](ab.ipynb)
